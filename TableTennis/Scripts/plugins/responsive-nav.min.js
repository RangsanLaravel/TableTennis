/*! responsive-nav.js 1.0.32
 * https://github.com/viljamis/responsive-nav.js
 * http://responsive-nav.com
 *
 * Copyright (c) 2014 @viljamis
 * Available under the MIT license
 */
(function(n,t,i){"use strict";var r=function(r,u){var d=!!t.getComputedStyle;d||(t.getComputedStyle=function(n){return this.el=n,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return t==="float"&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),n.currentStyle[t]?n.currentStyle[t]:null},this});var l=function(n,t,i,r){if("addEventListener"in n)try{n.addEventListener(t,i,r)}catch(u){if(typeof i=="object"&&i.handleEvent)n.addEventListener(t,function(n){i.handleEvent.call(i,n)},r);else throw u;}else"attachEvent"in n&&(typeof i=="object"&&i.handleEvent?n.attachEvent("on"+t,function(){i.handleEvent.call(i)}):n.attachEvent("on"+t,i))},a=function(n,t,i,r){if("removeEventListener"in n)try{n.removeEventListener(t,i,r)}catch(u){if(typeof i=="object"&&i.handleEvent)n.removeEventListener(t,function(n){i.handleEvent.call(i,n)},r);else throw u;}else"detachEvent"in n&&(typeof i=="object"&&i.handleEvent?n.detachEvent("on"+t,function(){i.handleEvent.call(i)}):n.detachEvent("on"+t,i))},g=function(n){var i,t;if(n.children.length<1)throw new Error("The Nav container has no containing elements");for(i=[],t=0;t<n.children.length;t++)n.children[t].nodeType===1&&i.push(n.children[t]);return i},v=function(n,t){for(var i in t)n.setAttribute(i,t[i])},h=function(n,t){n.className.indexOf(t)!==0&&(n.className+=" "+t,n.className=n.className.replace(/(^\s*)|(\s*$)/g,""))},s=function(n,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");n.className=n.className.replace(i," ").replace(/(^\s*)|(\s*$)/g,"")},nt=function(n,t,i){for(var r=0;r<n.length;r++)t.call(i,r,n[r])},f,e,o,c=n.createElement("style"),p=n.documentElement,w,b,y,k=function(t,i){var r;this.options={animate:!0,transition:284,label:"Menu",insert:"before",customToggle:"",closeOnNavClick:!1,openPos:"relative",navClass:"nav-collapse",navActiveClass:"js-nav-active",jsClass:"js",init:function(){},open:function(){},close:function(){}};for(r in i)this.options[r]=i[r];h(p,this.options.jsClass);this.wrapperEl=t.replace("#","");n.getElementById(this.wrapperEl)?this.wrapper=n.getElementById(this.wrapperEl):n.querySelector(this.wrapperEl)&&(this.wrapper=n.querySelector(this.wrapperEl));this.wrapper.inner=g(this.wrapper);e=this.options;f=this.wrapper;this._init(this)};return k.prototype={destroy:function(){this._removeStyles();s(f,"closed");s(f,"opened");s(f,e.navClass);s(f,e.navClass+"-"+this.index);s(p,e.navActiveClass);f.removeAttribute("style");f.removeAttribute("aria-hidden");a(t,"resize",this,!1);a(n.body,"touchmove",this,!1);a(o,"touchstart",this,!1);a(o,"touchend",this,!1);a(o,"mouseup",this,!1);a(o,"keyup",this,!1);a(o,"click",this,!1);e.customToggle?o.removeAttribute("aria-hidden"):o.parentNode.removeChild(o)},toggle:function(){w===!0&&(y?this.close():this.open())},open:function(){y||(s(f,"closed"),h(f,"opened"),h(p,e.navActiveClass),h(o,"active"),f.style.position=e.openPos,v(f,{"aria-hidden":"false"}),y=!0,e.open())},close:function(){y&&(h(f,"closed"),s(f,"opened"),s(p,e.navActiveClass),s(o,"active"),v(f,{"aria-hidden":"true"}),e.animate?(w=!1,setTimeout(function(){f.style.position="absolute";w=!0},e.transition+10)):f.style.position="absolute",y=!1,e.close())},resize:function(){t.getComputedStyle(o,null).getPropertyValue("display")!=="none"?(b=!0,v(o,{"aria-hidden":"false"}),f.className.match(/(^|\s)closed(\s|$)/)&&(v(f,{"aria-hidden":"true"}),f.style.position="absolute"),this._createStyles(),this._calcHeight()):(b=!1,v(o,{"aria-hidden":"true"}),v(f,{"aria-hidden":"false"}),f.style.position=e.openPos,this._removeStyles())},handleEvent:function(n){var i=n||t.event;switch(i.type){case"touchstart":this._onTouchStart(i);break;case"touchmove":this._onTouchMove(i);break;case"touchend":case"mouseup":this._onTouchEnd(i);break;case"click":this._preventDefault(i);break;case"keyup":this._onKeyUp(i);break;case"resize":this.resize(i)}},_init:function(){this.index=i++;h(f,e.navClass);h(f,e.navClass+"-"+this.index);h(f,"closed");w=!0;y=!1;this._closeOnNavClick();this._createToggle();this._transitions();this.resize();var r=this;setTimeout(function(){r.resize()},20);l(t,"resize",this,!1);l(n.body,"touchmove",this,!1);l(o,"touchstart",this,!1);l(o,"touchend",this,!1);l(o,"mouseup",this,!1);l(o,"keyup",this,!1);l(o,"click",this,!1);e.init()},_createStyles:function(){c.parentNode||(c.type="text/css",n.getElementsByTagName("head")[0].appendChild(c))},_removeStyles:function(){c.parentNode&&c.parentNode.removeChild(c)},_createToggle:function(){var t,i;if(e.customToggle)if(i=e.customToggle.replace("#",""),n.getElementById(i))o=n.getElementById(i);else if(n.querySelector(i))o=n.querySelector(i);else throw new Error("The custom nav toggle you are trying to select doesn't exist");else t=n.createElement("a"),t.innerHTML=e.label,v(t,{href:"#","class":"nav-toggle"}),e.insert==="after"?f.parentNode.insertBefore(t,f.nextSibling):f.parentNode.insertBefore(t,f),o=t},_closeOnNavClick:function(){if(e.closeOnNavClick&&"querySelectorAll"in n){var t=f.querySelectorAll("a"),i=this;nt(t,function(n){l(t[n],"click",function(){b&&i.toggle()},!1)})}},_preventDefault:function(n){n.preventDefault?(n.preventDefault(),n.stopPropagation()):n.returnValue=!1},_onTouchStart:function(t){t.stopPropagation();e.insert==="after"&&h(n.body,"disable-pointer-events");this.startX=t.touches[0].clientX;this.startY=t.touches[0].clientY;this.touchHasMoved=!1;a(o,"mouseup",this,!1)},_onTouchMove:function(n){(Math.abs(n.touches[0].clientX-this.startX)>10||Math.abs(n.touches[0].clientY-this.startY)>10)&&(this.touchHasMoved=!0)},_onTouchEnd:function(i){if(this._preventDefault(i),!this.touchHasMoved){if(i.type==="touchend"){this.toggle();e.insert==="after"&&setTimeout(function(){s(n.body,"disable-pointer-events")},e.transition+300);return}var r=i||t.event;r.which===3||r.button===2||this.toggle()}},_onKeyUp:function(n){var i=n||t.event;i.keyCode===13&&this.toggle()},_transitions:function(){if(e.animate){var n=f.style,t="max-height "+e.transition+"ms";n.WebkitTransition=t;n.MozTransition=t;n.OTransition=t;n.transition=t}},_calcHeight:function(){for(var n,i=0,t=0;t<f.inner.length;t++)i+=f.inner[t].offsetHeight;n="."+e.jsClass+" ."+e.navClass+"-"+this.index+".opened{max-height:"+i+"px !important}";c.styleSheet?c.styleSheet.cssText=n:c.innerHTML=n;n=""}},new k(r,u)};t.responsiveNav=r})(document,window,0);